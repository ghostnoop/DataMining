Сперва узнаем id друзей пользователя, затем проходимся по каждому узнавая его группы.
Как узнали id группы, делаем запрос на расширенную информацию о группе, узнаем тематику.
Если тематика схожа с нашей, то добавляем друга в массив и так до конца.
После выводим список друзей со схожей тематикой групп.